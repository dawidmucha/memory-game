(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(37)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),c=a(11),r=a.n(c),s=a(2),o=a(3),l=a(6),d=a(4),u=a(5),h=a(12),p=a(9),m=a.n(p),g={screen:"menu",sizeWidth:void 0,sizeHeight:void 0,gameState:0,timer:0,tile1:void 0,tile2:void 0,clearClicked:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SIZE":return Object.assign({},e,{sizeWidth:t.sizeWidth,sizeHeight:t.sizeHeight});case"TOGGLE_GAME":if("menu"===e.screen)return Object.assign({},e,{screen:"game",gameState:1,timer:m()()});if("game"===e.screen)return Object.assign({},e,{screen:"endscreen",gameState:0});if("endscreen"===e.screen)return Object.assign({},e,{screen:"menu",gameState:0,timer:0});break;case"CLICK_CARD":return 1===e.gameState?Object.assign({},e,{gameState:e.gameState+1,tile1:t.key}):2===e.gameState?Object.assign({},e,{gameState:e.gameState+1,tile2:t.key}):Object.assign({},e,{gameState:1});case"CLEAR_CLICKED":return Object.assign({},e,{clearClicked:!e.clearclicked,tile1:void 0,tile2:void 0});case"DECLICK_CARD":return Object.assign({},e,{gameState:e.gameState-2,tile1:void 0,tile2:void 0});default:return e}},b=Object(h.b)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),C=a(1),v=a(10),O=function(e,t){return{type:"CHANGE_SIZE",sizeWidth:e,sizeHeight:t}},k=function(e){return{type:"CLICK_CARD",key:e}},E=function(){return{type:"DECLICK_CARD"}},S=(a(32),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).state={sizeWidth:4,sizeHeight:3},e.widthChange=e.widthChange.bind(Object(C.a)(e)),e.heightChange=e.heightChange.bind(Object(C.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(C.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"widthChange",value:function(e){this.setState({sizeWidth:parseInt(e.target.value)})}},{key:"heightChange",value:function(e){this.setState({sizeHeight:parseInt(e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.sizeWidth,i=t.sizeHeight;b.dispatch(O(a,i)),b.dispatch({type:"TOGGLE_GAME"})}},{key:"render",value:function(){return n.a.createElement("div",{id:"menuContainer"},n.a.createElement("h1",null,"Memory Game"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",null,"Height: ",this.state.sizeWidth," ",n.a.createElement("input",{type:"range",min:"4",max:"8",onChange:this.widthChange,step:"2",defaultValue:"4"}),n.a.createElement("br",null),n.a.createElement("br",null),"Width: ",this.state.sizeHeight," ",n.a.createElement("input",{type:"range",min:"3",max:"8",onChange:this.heightChange,defaultValue:"3"}),n.a.createElement("br",null)),n.a.createElement("button",{type:"submit"},"START")))}}]),t}(n.a.Component)),j=Object(v.b)(null,function(e){return{changeSize:function(t){return e(O(t))}}})(S),y=a(19),z=(a(33),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleCardClick=function(){3!==b.getState().gameState&&!1===a.props.pair&&(a.setState({active:!a.state.active}),console.log("about to dispatch this mofo"),b.dispatch(k(parseInt(a.props.id))),3===b.getState().gameState&&b.getState().tile1&&b.getState().tile2&&(b.getState().tile1===b.getState().tile2?(console.log("you clicked the same card you dumbo"),b.dispatch(E(parseInt(a.props.id)))):a.props.checkPair()))},a.state={active:!1,pair:!1,noCardClassHandler:""},a.handleCardClick=a.handleCardClick.bind(Object(C.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){!0===this.props.pair&&!1===this.state.pair?this.setState({noCardClassHandler:"noCard",pair:!0}):!0===b.getState().clearClicked&&(this.props.clearClicked(),b.getState().clearClicked=!1)}},{key:"clearClicked",value:function(){""===this.state.noCardClassHandler&&this.setState({active:!1})}},{key:"render",value:function(){return n.a.createElement("div",{className:this.state.active?"Card face".concat([this.props.pic]," ").concat(this.state.noCardClassHandler):"Card ".concat(this.state.noCardClassHandler),onClick:this.handleCardClick})}}]),t}(n.a.Component)),H=(a(34),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).clearClicked=function(){a.state.cards.map(function(e){return e.ref.current.clearClicked()})},a.checkPair=function(){var e=b.getState().tile1,t=b.getState().tile2;a.state.cards[e-1].props.pic===a.state.cards[t-1].props.pic?setTimeout(function(){a.setState(function(t){return t.cards[e-1]=n.a.createElement(z,{ref:n.a.createRef(),key:t.cards[e-1].props.id,id:t.cards[e-1].props.id,pic:t.cards[e-1].props.pic,checkPair:a.checkPair.bind(Object(C.a)(a)),clearClicked:a.clearClicked.bind(Object(C.a)(a)),pair:!0})}),a.setState(function(e){return e.cards[t-1]=n.a.createElement(z,{ref:n.a.createRef(),key:e.cards[t-1].props.id,id:e.cards[t-1].props.id,pic:e.cards[t-1].props.pic,checkPair:a.checkPair.bind(Object(C.a)(a)),clearClicked:a.clearClicked.bind(Object(C.a)(a)),pair:!0})}),b.dispatch(k())},250):(b.dispatch(k()),setTimeout(function(){a.clearClicked()},250))},a.state={sizeWidth:b.getState().sizeWidth||3,sizeHeight:b.getState().sizeHeight||4,outcome:[],cards:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){for(var e,t=this,a=this.state.sizeWidth*this.state.sizeHeight/2,i=this.state.outcome.slice(),c=.5;c<=a;c+=.5){var r=Math.ceil(Math.random()*i.length);i.splice(r,0,Math.ceil(c))}this.setState({outcome:i});for(var s=function(a){for(var i=function(i){t.setState(function(c){return e=c.sizeHeight*a+i,{cards:[].concat(Object(y.a)(c.cards),[n.a.createElement(z,{ref:n.a.createRef(),key:"".concat(e),id:"".concat(e),pic:c.outcome[e-1],checkPair:t.checkPair.bind(t),clearClicked:t.clearClicked.bind(t),pair:!1})])}})},c=1;c<=t.state.sizeHeight;c++)i(c)},o=0;o<this.state.sizeWidth;o++)s(o)}},{key:"componentDidUpdate",value:function(){var e=b.getState().sizeWidth*b.getState().sizeHeight;if(this.state.cards.filter(function(e){return!0===e.props.pair}).length===e){var t=b.getState().timer,a=m()();console.log("finished in ",a.diff(t,"seconds",!0),"s!"),b.dispatch({type:"TOGGLE_GAME"})}}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.sizeWidth;t++){for(var a=1;a<=this.state.sizeHeight;a++)e.push(this.state.cards[this.state.sizeHeight*t+a-1]);e.push(n.a.createElement("br",{key:"br".concat(t)}))}return n.a.createElement("div",{id:"cards"},e)}}]),t}(n.a.Component)),_=(a(35),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=b.getState().timer,t=m()();return console.log(e,t),n.a.createElement("div",{id:"endscreen"},n.a.createElement("h1",null,"Congratulations"),n.a.createElement("p",null,"you finished in ",t.diff(e,"seconds",!0)," seconds!"),n.a.createElement("button",{onClick:function(){return b.dispatch({type:"TOGGLE_GAME"})}},"NEW GAME"))}}]),t}(n.a.Component)),w=(a(36),b.subscribe(function(){return console.log(b.getState())}),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={game:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=b.getState().screen;return"game"===e?n.a.createElement("div",{className:"appContainer"},n.a.createElement(H,null)):"menu"===e?n.a.createElement("div",{className:"appContainer"},n.a.createElement(j,null)):"endscreen"===e?n.a.createElement("div",{className:"appContainer"},n.a.createElement(_,null)):void 0}}]),t}(n.a.Component)),W=Object(v.b)(function(e){return{game:e.screen}})(w);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(v.a,{store:b},n.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.1735154c.chunk.js.map